<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Register</title>
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="stylesheet" href="../CSS_files/register.css" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Fuzzy+Bubbles&display=swap"
      rel="stylesheet"
    />
    <script src="https://unpkg.com/axios/dist/axios.min.js"></script>
  </head>
  <body>
    <div class="container-2">
      <img src="../project_images/logo-no-background.png" alt="" class="pic" />
    </div>

    <div class="container">
      <div class="content">
        <div class="left-side">
          <div class="address details">
            <i class="fas fa-map-marker-alt"></i>
            <div class="topic">Address</div>
            <div class="text-one">Dilbagh Nagar, NP12</div>
            <div class="text-two">Punjab 02</div>
          </div>
          <div class="phone details">
            <i class="fas fa-phone-alt"></i>
            <div class="topic">Phone</div>
            <div class="text-one">+91-7878675634</div>
            <div class="text-two">+91-9897876765</div>
          </div>
          <div class="email details">
            <i class="fas fa-envelope"></i>
            <div class="topic">Email</div>
            <div class="text-one">nayydhruv@gmail.com</div>
            <div class="text-two">nayyar.dhruv22@yahoo.com</div>
          </div>
        </div>
        <div class="right-side">
          <div class="topic-text">Register Yourself</div>
          <p>Start with the best one.</p>
          <form action="#">
            <div class="input-box">
              <input type="text" placeholder="Enter username" id="username"/>
            </div>
            <div class="input-box">
              <input type="text" placeholder="Enter your email" id="email"/>
            </div>
            <div class="input-box">
              <input type="text" placeholder="Set your password" id="password"/>
            </div>

            <div class="button" id="register">
              <input type="button" value="Register" />
            </div>
          </form>
        </div>
      </div>
    </div>

    <div class="container-1">
      <img src="../project_images/Coming soon_2.png" alt="" class="pic-1" />
    </div>
    <script>
      document.getElementById('register').addEventListener('click', function () {
          console.log("Register button clicked");
              
          //Getting the data from feilds
          const username = document.getElementById('username').value;
          const email = document.getElementById('email').value;
          const password = document.getElementById('password').value;
          
          //Validation
          if(username === "" || username === undefined ||
           email === "" || email === undefined || 
           password === "" || password === undefined) return;

          //User Object
          const user = {
            username,
            email,
            password
          }

          axios.post('https://dhruv-backend-social.herokuapp.com/api/users', user)
            .then(response => {
              //Redirecting to Homepage
              window.location.replace = "./home.html";
            })
            .catch(error => console.error(error));
      });

    </script>
  </body>
</html>
